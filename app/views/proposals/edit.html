<!-- HuvudinnehÃ¥ll -->
<div class="container">
  <h1>Edit proposal</h1>

  <div class="well">
    <form ng-submit="proposalCtrl.update()">
      <div class="form-group">
        <label for="title">Title</label>
        <input type="text" id="title" ng-model="proposalCtrl.proposal.title" class="form-control">
      </div>

      <div class="form-group">
        <label for="category">Category</label>
        <select name="category" id="category" class="form-control">
          <option value="1">Project</option>
          <option value="2">Bachelor</option>
          <option value="3">Master</option>
        </select>
      </div>

      <div class="form-group">
        <label for="usr">Tags</label>
        <tags-input display-property="name" ng-model="proposalCtrl.proposal.tags"></tags-input>
      </div>

      <div class="form-group">
        <label for="comment">Description</label>
        <text-angular ng-model="proposalCtrl.proposal.description"></text-angular>
      </div>

      <div class="form-group">
        <label for="attachments">Attachments</label>
        <div class="row">
          <div class="col-md-4 col-sm-8">
            <ul class="attachments">
              <li class="attachment" ng-repeat="attachment in proposalCtrl.proposal.attachments">
                <span class="attachment-name">
                  {{ attachment.title | limitTo: 20 }} {{ attachment.title.length > 0 ? '...' : '' }}
                </span>
                <span class="attachment-remove" ng-click="proposalCtrl.deleteOldAttachment($index)">&times;</span>
              </li>
              <li class="attachment" ng-repeat="file in proposalCtrl.newFiles">
                <span class="attachment-name">
                  {{ file.name | limitTo: 20 }} {{ file.name.length > 20 ? '...' : '' }}
                </span>
                <span class="attachment-remove" ng-click="proposalCtrl.newFiles.splice($index, 1)()">&times;</span>
              </li>

              <li class="attachment attachment-empty" ng-show="proposalCtrl.proposal.attachments.length == 0 && proposalCtrl.newFiles.length == 0">
                No attachments.
              </li>
            </ul>
          </div>
        </div>
        <label class="btn btn-default btn-file">
          Upload file
          <input type="file" ng-files="proposalCtrl.newFiles">
        </label>
      </div>
      <button class="btn btn-primary btn-lg">Save changes</button>
    </form>
  </div>
</div>
